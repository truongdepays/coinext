"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.StringTextDecoder = void 0;
/**
 * @prettier
 */
const string_decoder_1 = require("string_decoder");
/**
 * Custom utf8 TextDecoder that uses StringDecoder under the hood.
 * This should only be used with utf8 and does NOT support TextDecoder options, like streaming.
 */
class StringTextDecoder extends TextDecoder {
    decode(input, options) {
        // Note: streaming is not necessary for deserializing EOS transactions.
        const decoder = new string_decoder_1.StringDecoder('utf8');
        if (input) {
            const decoded = decoder.end(Buffer.from(input));
            return decoded;
        }
        return '';
    }
}
exports.StringTextDecoder = StringTextDecoder;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5nVGV4dERlY29kZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc3RyaW5nVGV4dERlY29kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSCxtREFBK0M7QUFFL0M7OztHQUdHO0FBQ0gsTUFBYSxpQkFBa0IsU0FBUSxXQUFXO0lBQ3pDLE1BQU0sQ0FBQyxLQUFvQixFQUFFLE9BQTJCO1FBQzdELHVFQUF1RTtRQUN2RSxNQUFNLE9BQU8sR0FBRyxJQUFJLDhCQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFMUMsSUFBSSxLQUFLLEVBQUU7WUFDVCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNoRCxPQUFPLE9BQU8sQ0FBQztTQUNoQjtRQUVELE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztDQUNGO0FBWkQsOENBWUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcmV0dGllclxuICovXG5pbXBvcnQgeyBTdHJpbmdEZWNvZGVyIH0gZnJvbSAnc3RyaW5nX2RlY29kZXInO1xuXG4vKipcbiAqIEN1c3RvbSB1dGY4IFRleHREZWNvZGVyIHRoYXQgdXNlcyBTdHJpbmdEZWNvZGVyIHVuZGVyIHRoZSBob29kLlxuICogVGhpcyBzaG91bGQgb25seSBiZSB1c2VkIHdpdGggdXRmOCBhbmQgZG9lcyBOT1Qgc3VwcG9ydCBUZXh0RGVjb2RlciBvcHRpb25zLCBsaWtlIHN0cmVhbWluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmluZ1RleHREZWNvZGVyIGV4dGVuZHMgVGV4dERlY29kZXIge1xuICBwdWJsaWMgZGVjb2RlKGlucHV0PzogQnVmZmVyU291cmNlLCBvcHRpb25zPzogVGV4dERlY29kZU9wdGlvbnMpOiBzdHJpbmcge1xuICAgIC8vIE5vdGU6IHN0cmVhbWluZyBpcyBub3QgbmVjZXNzYXJ5IGZvciBkZXNlcmlhbGl6aW5nIEVPUyB0cmFuc2FjdGlvbnMuXG4gICAgY29uc3QgZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKCd1dGY4Jyk7XG5cbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGVyLmVuZChCdWZmZXIuZnJvbShpbnB1dCkpO1xuICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG4iXX0=